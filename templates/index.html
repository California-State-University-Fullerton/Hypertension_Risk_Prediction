<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Hypertension Risk Prediction</title>
    {% load static %}
    <link rel="stylesheet" href="static/stylesheets/styles.css">
    {% load static %}
    <link rel="stylesheet" href="static/stylesheets/pygment_trac.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link href='https://api.mapbox.com/mapbox-gl-js/v2.9.1/mapbox-gl.css' rel='stylesheet' />
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.9.1/mapbox-gl.js'></script>
    </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Hypertension&nbsp;Risk <br>Prediction<br><small><i>using Machine Learning Models</i></small></h1>
        <br>
        <br>
        <div>
        <div>
            <a id="Dashboard_link" href="#">Dashboard</a> |
            <a id="Form_link" href="#">Form</a>  |
            <a id="Results_link" href="#">Results</a> |
            <a id="logout_user" href="{% url 'Logout' %}">Logout</a>
        </div>
        </div>
        <br>
      </header>

      <section id="Form_content">
        <h1>Form</h1>

        <div>
            <button onclick="toggleHypertension()">+</button><nobr><hr></nobr>
            <form id="hrp-form" action="process" method="POST">
                {% csrf_token %}
                <table>
                    <tr>
                        <td><label for"fname">First Name</label>
                        <input type="text" name="Fname" placeholder="First Name" value="{{request.user}}" readonly></td>
                    </tr>
                    <tr>
                        <td><label for"age">Please Enter you Age</label>
                        <input type="number" name="Age" placeholder="Age" min="10" max="120"></td>
                        <td><label for"sex">What is you Gender?</label>
                        <input type="text" name="Sex" placeholder="Gender"></td>
                    </tr>
                    <tr>
                        <td><label for"cp">What is your CP?</label>
                        <input type="text" name="cp" placeholder="Cerebral Palsy"></td>

                        <td><label for"fbs">What is your Fasting Blood Sugar?</label>
                        <input type="text" name="fbs" placeholder="FBS"></td>
                    </tr>
                    <tr>
                        <td><label for"chol">What is your Cholestrol level?</label>
                        <input type="text" name="chol" placeholder="Cholestrol"></td>

                        <td><label for"trestbps">What is your Rise of Blood Pressure?</label>
                        <input type="text" name="trestbps" placeholder="Trest-BPS"></td>
                    </tr>
                    <tr>
                        <td><label for"restecg">What is your Resting Electro-Cardiograph?</label>
                        <input type="text" name="restecg" placeholder="Rest-ECG"></td>
                
                        <td><label for"thalach">What is your Heart Rate?</label>
                        <input type="text" name="thalach" placeholder="Heart Rate"></td>
                    </tr>
                    <tr>
                        <td><label for"exang">What is your Exercise Induced Angina?</label>
                        <input type="text" name="exang" placeholder="Exang"></td>
                    
                        <td><label for"oldpeak">What is your Depression caused by activity?</label>
                        <input type="text" name="oldpeak" placeholder="Old Peak Value"></td>
                    </tr>
                    <tr>
                        <td><label for"slope">What is your Slope?</label>
                        <input type="text" name="slope" placeholder="Slope"></td>
                    
                        <td><label for"ca">What is your Calcium Level?</label>
                        <input type="text" name="ca" placeholder="Calcium Level"></td>
                    </tr>
                    <tr>
                        <td><label for"thal">Enter your Blood Disorder that reduces production of hemoglobin?</label></td>
                        <td><input type="text" name="thal" placeholder="Thal"></td>
                    </tr>
                    <tr>
                        <td><br><br><button id="predict-button" type="submit">Predict Hypertension</button></td>
                    </tr>
                </table>
            </form>
            <button onclick="toggleStroke()">+</button><hr>
            <form id="hrp-form-s" action="process" method="POST">
                {% csrf_token %}
                <table>
                    <tr>
                        <td><label for"fname">First Name</label>
                        <input type="text" name="Fname" placeholder="First Name"></td>
                    </tr>
                    <tr>
                        <td><label for"age">Please Enter you Age</label>
                        <input type="number" name="Age" placeholder="Age" min="10" max="120"></td>
                        <td><label for"sex">What is you Gender?</label>
                        <input type="text" name="Sex" placeholder="Gender"></td>
                    </tr>
                    <tr>
                        <td><label for"cp">What is your CP?</label>
                        <input type="text" name="cp" placeholder="Cerebral Palsy"></td>

                        <td><label for"fbs">What is your Fasting Blood Sugar?</label>
                        <input type="text" name="fbs" placeholder="FBS"></td>
                    </tr>
                    <tr>
                        <td><label for"chol">What is your Cholestrol level?</label>
                        <input type="text" name="chol" placeholder="Cholestrol"></td>

                        <td><label for"trestbps">What is your Rise of Blood Pressure?</label>
                        <input type="text" name="trestbps" placeholder="Trest-BPS"></td>
                    </tr>
                    <tr>
                        <td><label for"restecg">What is your Resting Electro-Cardiograph?</label>
                        <input type="text" name="restecg" placeholder="Rest-ECG"></td>
                
                        <td><label for"thalach">What is your Heart Rate?</label>
                        <input type="text" name="thalach" placeholder="Heart Rate"></td>
                    </tr>
                    <tr>
                        <td><label for"exang">What is your Exercise Induced Angina?</label>
                        <input type="text" name="exang" placeholder="Exang"></td>
                    
                        <td><label for"oldpeak">What is your Depression caused by activity?</label>
                        <input type="text" name="oldpeak" placeholder="Old Peak Value"></td>
                    </tr>
                    <tr>
                        <td><label for"slope">What is your Slope?</label>
                        <input type="text" name="slope" placeholder="Slope"></td>
                    
                        <td><label for"ca">What is your Calcium Level?</label>
                        <input type="text" name="ca" placeholder="Calcium Level"></td>
                    </tr>
                    <tr>
                        <td><label for"thal">Enter your Blood Disorder that reduces production of hemoglobin?</label></td>
                        <td><input type="text" name="thal" placeholder="Thal"></td>
                    </tr>
                    <tr>
                        <td><br><br><button id="predict-button" type="submit">Predict Stroke</button></td>
                    </tr>
                </table>
            </form>
            <button onclick="toggleDiabetes()">+</button><hr>
            <form id="hrp-form-d" action="process" method="POST">
                {% csrf_token %}
                <table>
                    <tr>
                        <td><label for"fname">First Name</label>
                        <input type="text" name="Fname" placeholder="First Name"></td>
                    </tr>
                    <tr>
                        <td><label for"age">Please Enter you Age</label>
                        <input type="number" name="Age" placeholder="Age" min="10" max="120"></td>
                        <td><label for"sex">What is you Gender?</label>
                        <input type="text" name="Sex" placeholder="Gender"></td>
                    </tr>
                    <tr>
                        <td><label for"cp">What is your CP?</label>
                        <input type="text" name="cp" placeholder="Cerebral Palsy"></td>

                        <td><label for"fbs">What is your Fasting Blood Sugar?</label>
                        <input type="text" name="fbs" placeholder="FBS"></td>
                    </tr>
                    <tr>
                        <td><label for"chol">What is your Cholestrol level?</label>
                        <input type="text" name="chol" placeholder="Cholestrol"></td>

                        <td><label for"trestbps">What is your Rise of Blood Pressure?</label>
                        <input type="text" name="trestbps" placeholder="Trest-BPS"></td>
                    </tr>
                    <tr>
                        <td><label for"restecg">What is your Resting Electro-Cardiograph?</label>
                        <input type="text" name="restecg" placeholder="Rest-ECG"></td>
                
                        <td><label for"thalach">What is your Heart Rate?</label>
                        <input type="text" name="thalach" placeholder="Heart Rate"></td>
                    </tr>
                    <tr>
                        <td><label for"exang">What is your Exercise Induced Angina?</label>
                        <input type="text" name="exang" placeholder="Exang"></td>
                    
                        <td><label for"oldpeak">What is your Depression caused by activity?</label>
                        <input type="text" name="oldpeak" placeholder="Old Peak Value"></td>
                    </tr>
                    <tr>
                        <td><label for"slope">What is your Slope?</label>
                        <input type="text" name="slope" placeholder="Slope"></td>
                    
                        <td><label for"ca">What is your Calcium Level?</label>
                        <input type="text" name="ca" placeholder="Calcium Level"></td>
                    </tr>
                    <tr>
                        <td><label for"thal">Enter your Blood Disorder that reduces production of hemoglobin?</label></td>
                        <td><input type="text" name="thal" placeholder="Thal"></td>
                    </tr>
                    <tr>
                        <td><br><br><button id="predict-button" type="submit">Predict Diabetes</button></td>
                    </tr>
                </table>
            </form>
        </div>
      </section>

      <section id="Dashboard_content">
        <h1>Dashboard</h1>
        <div id='map' style='width: 600px; height: 500px;'></div>
        <script>
            mapboxgl.accessToken = 'pk.eyJ1Ijoic2FtYXJ0aC1oYWx5YWwiLCJhIjoiY2xzbzJweGwwMGFlbzJqcDdsZDZqYzVieSJ9.D4y1vzj-_g8b5tEYtcnmFw';
            var map = new mapboxgl.Map({
                container: 'map',
                style: 'mapbox://styles/samarth-halyal/clssc62gj001a01r5h9nbauwp',
                zoom: 4.5,
                center: [-118.829648, 35.724691]
            });
        </script>
        <br>
        <br>
        <br>
        <div>
            <canvas id="hrpMortalityChart"></canvas>
        </div>
        <script>
            const data = {
                labels: {{ x_labels | safe }},
                datasets: [
                    {
                        label: {{ label1 | safe}},
                        data: {{ data1 | safe }},
                    },
                    {
                        label: {{ label2 | safe}},
                        data: {{ data2 | safe }},
                    }
                ]
            };

            const config = {
                type: 'line',
                data: data,
                options: {
                    responsive: true,
                    plugins: {
                    legend: {
                        position: 'top',
                    },
                    title: {
                        display: true,
                        text: 'World-wide Hypertension based Deaths'
                    }
                    }
                },
            };

            var hrpMortalityChart = new Chart(
                document.getElementById('hrpMortalityChart'),
                config
            );
        </script>

      </section>



      <section id="Results_content">
        <h1>Results</h1>
    
        {% if result_valid %} 
        
        <script>
            function clickResult() {
                document.getElementById('Form_content').style.display = 'none';
                document.getElementById('Results_content').style.display = 'block';
                document.getElementById('Dashboard_content').style.display = 'none';
                localStorage.setItem("reload_state_var", 2);
            }
            clickResult()
        </script>

         {% endif %}
       
        <h2>{{predict}}</h2><br>
    </section>
    <!-- {% block content %} -->
        
    <!-- {% endblock %}   -->
       
     <footer>
        <p><small>Footer Message!</small></p>
      </footer>
    </div>
      
    {% load static %}
    <script src="static/javascripts/scale.fix.js"></script>
  </body>
</html>
